#!/usr/bin/env bash
# This script groups Apache log entries by IP and HTTP status code

awk 'NF >= 9 { count[$1, $9]++ }
     END {
         for (key in count) {
             split(key, parts, SUBSEP)
             printf "%8d %s %s\n", count[key], parts[1], parts[2]
         }
     }' access.log | sort -rn

